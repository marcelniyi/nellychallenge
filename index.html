<!DOCTYPE html>
<html>
<head>
<title>Code with Nelly challenge</title>

<style>

#users {
	padding: 30px;
	border: 1px solid black;
	width: 400px;
}

#singlUser {
	padding: 10px;
	border: 1px solid;
	box-shadow: 5px 5px #888888;
	margin: 8px;
}

.contant {
	display: grid;
	grid-template-columns: auto auto;
}

#userPost {
	padding: 30px;
}

#userPost h4 {
	font-size: 20px;
	font-weight: bold;
}
</style>
</head>
<body>
<div class="header">
<h3>List of users</h3>
</div>
<div class="contant">
<div id='users'></div>
<div id='userPost'></div>
</div>
</body>
</html>
<script>
async function get() {
    let url = 'https://jsonplaceholder.typicode.com/users'
    let obj = await (await fetch(url)).json();
    return obj;
}


async function userPost(name){ 
	const url = 'https://jsonplaceholder.typicode.com/posts?userId='+name;
	const postsContainer = document.getElementById('userPost');
	fetch(url)
  	.then((response) => response.json())
  	.then((posts) => {
  		let textCont = '';
  		posts.forEach((post)=>{
  			textCont += `
  				<div class="singlePost">
	  				<h4>${post.title}</h4>
	  				<p>${post.body}</p>
	  			</div>
  			`;
  		})
  		postsContainer.innerHTML = textCont;
  	});
}


var card = document.getElementById('users');
var tags;
(async () => {
  users = await get()
  users.forEach(function(user){

 	var userInfo = document.createElement('div');
 	userInfo.setAttribute("id", "singlUser");
 	userInfo.innerHTML = `name: <strong>${user.name}</strong></br>
 	email: <strong>${user.email}</strong></br>`;
 	var button = document.createElement('button');
 	button.innerHTML = "get user's post";
 	button.addEventListener('click', function () {
	     userPost(user.id)
	});
	userInfo.appendChild(button);
 	card.appendChild(userInfo);

  })
})()
</script>